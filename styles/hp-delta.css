/* hp-delta.css */
/* Compact message container */
li.chat-message.hp-delta {
  /* margin: 2px 0;  <-- removed so it matches normal chat message margins */
  padding: 0;
  border: none;
  border-radius: 4px;

  /* Subtle depth for separation from chat background */
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.18) inset,
    0 2px 4px rgba(0,0,0,0.18);
}

/* Hide the header to keep height tiny */
li.chat-message.hp-delta .message-header {
  display: none;
}

/* Tight content area; do not affect siblings like context menus */
li.chat-message.hp-delta .message-content {
  margin: 0;
  padding: 2px 6px;
}

/* One-line, self-contained text styling (default) */
li.chat-message.hp-delta .message-content .hp-delta-line {
  color: #ffffff;
  font-weight: 700;
  font-size: 12px;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0;
  padding: 0;

  -webkit-text-stroke: 0.25px rgba(0,0,0,0.55);
  paint-order: stroke fill;
  text-shadow:
    0 1px 1px rgba(0,0,0,0.35),
    0 0 1px rgba(0,0,0,0.35);
}

/* NEW: Multi-line override for item and spell preparation messages */
li.chat-message.hp-delta .message-content .hp-delta-line.hp-multiline {
  white-space: normal;    /* allow wrapping */
  overflow: visible;
  text-overflow: clip;
  word-break: break-word; /* break very long tokens if needed */
}

/* Slightly more padding when multi-line content is possible */
li.chat-message.hp-delta.hp-item .message-content,
li.chat-message.hp-delta.hp-spellprep .message-content {
  padding: 4px 6px;
}

/* Background colors (dark enough for contrast with white text) */
li.chat-message.hp-delta.hp-gain       { background-color: #1b5e20; } /* green */
li.chat-message.hp-delta.hp-loss       { background-color: #8b1e1e; } /* red */
li.chat-message.hp-delta.hp-temp       { background-color: #0d47a1; } /* blue */
li.chat-message.hp-delta.hp-tempmax    { background-color: #4a148c; } /* purple */
li.chat-message.hp-delta.hp-inspiration{ background-color: #c87f1f; } /* orange-gold */
li.chat-message.hp-delta.hp-currency   { background-color: #10491a; } /* dark green */
li.chat-message.hp-delta.hp-item       { background-color: #10491a; } /* dark green (matches currency) */
li.chat-message.hp-delta.hp-spellprep  { background-color: #0b3d91; } /* dark blue */

li.chat-message.hp-delta { background-clip: padding-box; }

/* Accessibility: stronger outline with higher contrast preference */
@media (prefers-contrast: more) {
  li.chat-message.hp-delta .message-content .hp-delta-line {
    -webkit-text-stroke: 0.4px rgba(0,0,0,0.75);
    text-shadow:
      0 1px 1px rgba(0,0,0,0.45),
      0 0 1px rgba(0,0,0,0.45);
  }
}