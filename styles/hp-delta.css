/* Compact message container */
li.chat-message.hp-delta {
  /* margin: 2px 0;  <-- removed so it matches normal chat message margins */
  padding: 0;
  border: none;
  border-radius: 4px;

  /* Subtle depth for separation from chat background */
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.18) inset,   /* faint inner ring to define edges */
    0 2px 4px rgba(0,0,0,0.18);         /* soft outer drop shadow */
}

/* Hide the header to keep height tiny */
li.chat-message.hp-delta .message-header {
  display: none;
}

/* Tight content area; do not affect siblings like context menus */
li.chat-message.hp-delta .message-content {
  margin: 0;
  padding: 2px 6px;
}

/* One-line, self-contained text styling (no spill into context menu) */
li.chat-message.hp-delta .message-content .hp-delta-line {
  color: #ffffff;               /* high-contrast text ON THE LINE ONLY */
  font-weight: 700;
  font-size: 12px;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;             /* prevent horizontal growth */
  text-overflow: ellipsis;      /* keep the message from being "too wide" */
  margin: 0;
  padding: 0;

  /* Subtle text outline and shadow for readability on dark colors */
  /* Works in Foundry's Chromium/Electron runtime */
  -webkit-text-stroke: 0.25px rgba(0,0,0,0.55); /* ultra-thin dark stroke */
  paint-order: stroke fill;                      /* ensure stroke renders first */
  text-shadow:
    0 1px 1px rgba(0,0,0,0.35),  /* soft drop for depth */
    0 0 1px rgba(0,0,0,0.35);    /* micro-glow to fight color bleed */
}

/* Background colors (dark enough for contrast with white text) */
li.chat-message.hp-delta.hp-gain    { background-color: #1b5e20; } /* green */
li.chat-message.hp-delta.hp-loss    { background-color: #8b1e1e; } /* red */
li.chat-message.hp-delta.hp-temp    { background-color: #0d47a1; } /* blue */
li.chat-message.hp-delta.hp-tempmax { background-color: #4a148c; } /* purple */

li.chat-message.hp-delta { background-clip: padding-box; }

/* Accessibility: when users prefer higher contrast, strengthen the outline slightly */
@media (prefers-contrast: more) {
  li.chat-message.hp-delta .message-content .hp-delta-line {
    -webkit-text-stroke: 0.4px rgba(0,0,0,0.75);
    text-shadow:
      0 1px 1px rgba(0,0,0,0.45),
      0 0 1px rgba(0,0,0,0.45);
  }
}